# Turkish Diaspora App - Environment Configuration Template
# Copy this file to Backend/.env and fill in your values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://username:password@localhost:5432/turkish_diaspora

# =============================================================================
# GOOGLE PLACES API REMOVED
# =============================================================================
# Google API support has been removed to avoid costs.
# All discovery now uses the free OSM Overpass API.

# =============================================================================
# OPENAI CONFIGURATION
# =============================================================================
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini

# =============================================================================
# OSM/OVERPASS API CONFIGURATION
# =============================================================================
# Data provider: OSM only (Google API removed to avoid costs)
DATA_PROVIDER=osm

# Overpass API User Agent (REQUIRED for OSM compliance)
OVERPASS_USER_AGENT=TurkishDiasporaApp/1.0 (contact: m.kul@lamarka.nl)

# Rate limiting and backoff configuration
DISCOVERY_RATE_LIMIT_QPS=0.08
DISCOVERY_SLEEP_BASE_S=7.0
DISCOVERY_SLEEP_JITTER_PCT=0.40
DISCOVERY_BACKOFF_SERIES=20,60,180,420

# Overpass API timeout and result limits
OVERPASS_TIMEOUT_S=60
DISCOVERY_MAX_RESULTS=50

# Turkish hints filtering (1=enabled, 0=disabled)
OSM_TURKISH_HINTS=1

# Cell subdivision configuration
MAX_SUBDIVIDE_DEPTH=2

# =============================================================================
# NEWS INGEST CONFIGURATION
# =============================================================================
NEWS_INGEST_TIMEOUT_S=15
NEWS_INGEST_MAX_CONCURRENCY=5

# =============================================================================
# X (TWITTER) TRENDING CONFIGURATION
# =============================================================================
# X API Bearer Token for trending topics (optional)
# Without this token, trending feed will return empty results with unavailable_reason
X_API_BEARER_TOKEN=your_x_api_bearer_token_here

# Allow stub/fallback topics when X API is unavailable (default: false)
# Set to "true" to enable stub topics as fallback
X_TRENDING_ALLOW_STUBS=false

# X API cache TTL in seconds (default: 180)
X_TRENDING_CACHE_TTL_SECONDS=180

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
OSM_LOG_QUERIES=false

# =============================================================================
# FRONTEND CONFIGURATION (Optional)
# =============================================================================
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url_here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# =============================================================================
# EMAIL SERVICE CONFIGURATION
# =============================================================================
# Email provider: 'smtp' (default) or 'ses' for AWS SES
EMAIL_PROVIDER=smtp

# SMTP Configuration (used when EMAIL_PROVIDER=smtp)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_smtp_username
SMTP_PASSWORD=your_smtp_password
SMTP_FROM_EMAIL=noreply@turkspot.nl

# AWS SES Configuration (used when EMAIL_PROVIDER=ses)
# AWS_SES_REGION=eu-west-1
# AWS_ACCESS_KEY_ID=your_aws_access_key_id
# AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
# Note: If AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY are not set,
# boto3 will use default AWS credentials chain (IAM role, ~/.aws/credentials, etc.)

# =============================================================================
# FEATURE FLAGS (Identity & Activity Layer)
# =============================================================================
# Enable/disable features for phased rollout
# Set to "true" to enable, "false" to disable (default: false)
FEATURE_CHECK_INS=false
FEATURE_REACTIONS=false
FEATURE_NOTES=false
FEATURE_POLLS=false
FEATURE_TRENDING=false
FEATURE_GAMIFICATION=false
FEATURE_BUSINESS=false