# N4.3 – News Theme Filtering

## Overview
- Route: `/news`
- Themes: `politics`, `economy`, `culture`, `religion`, `sports`, `security`
- State: multi-select chips synced to the hash fragment (`#/news?themes=...`)
- Backend: `GET /api/v1/news?feed=<feed>&themes=politics,economy`

## UI
- `NewsThemeFilterBar` renders six chips + a “Filters wissen” control.
- Chips behave as toggle buttons (role `checkbox`) with pressed styling.
- “Filters wissen” clears all selections both in UI and URL.
- Component sits below the feed tabs; feed switches do not clear theme selections.

## Data Flow
1. `readNewsThemesFromHash()` initializes the React state from `window.location.hash`.
2. Selecting/deselecting chips calls `writeNewsThemesToHash`, updating the hash.
3. `useNewsFeed({ feed, themes })` receives the normalized theme array and re-fetches results.
4. The API client serializes themes via repeated `themes=` parameters (comma-joined in the hash, repeated in XHR).

## Backend Contract
- `themes` is optional on `/api/v1/news`.
- Multiple selections can be sent as `themes=politics&themes=economy` (frontend default) or comma-separated.
- Invalid themes trigger `400` with an explicit error message.
- Trending feed rejects theme filters to keep behavior deterministic.

## Hash Behavior
- Hash only contains `feed` and `themes` keys for news.
- Themes are deduped, normalized to lowercase, and persisted across reloads/share links.
- `clearNewsThemesFromHash()` removes the param entirely.




